(()=>{"use strict";const t=document.location.host;function e(e,n){const o=new URL("./main._Xk0cj2dyEn1yR3vSQMXo.js",n.src).toString(),r=e.querySelectorAll(".embed.migsys > [data-mig-url]");if(r.length<=0)return;let i=Promise.resolve(!0);var c;0==function(t){const e=document.head.getElementsByTagName("script");for(let n=0;n<e.length;n+=1){let o=e.item(n);if(o.hasAttribute("src")&&o.getAttribute("src").endsWith(t))return!0}return!1}(o)&&(c=o,i=new Promise((function(t){const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.addEventListener("load",(function(){t(!0)})),e.src=c,document.head.appendChild(e)}))),i.then((function(){const e=new IntersectionObserver((function(e,n){e.forEach((function(e){var o;e.isIntersecting&&(n.unobserve(e.target),1==(o=e.target).childElementCount&&"IMG"===o.firstElementChild.tagName&&(o.removeChild(o.firstElementChild),function(e){let n=e.dataset.migUrl;0==n.endsWith("/")&&(n+="/");const o=new URL("./config.json",n);o.searchParams.set("origin",t),fetch(o.toString(),{mode:"cors"}).then((function(t){return t.json()})).then((function(o){const r=new URL("./data.csv",n);r.searchParams.set("origin",t),window.oon.mig(e,r.toString(),o)}))}(o)))}))}),{rootMargin:"0px 0px 200px 0px"});r.forEach((function(t){e.observe(t)}))}))}if(window.Promise&&window.fetch&&document.currentScript){const t=document.currentScript,n=document.querySelector(".story-content");n&&t.src.indexOf("automojo")>-1&&e(n,t),window.oonInitMig=function(n){return e(n,t)}}})();